<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<script>
			function get(obj, path, defaultVal = undefined) {
				let newPath = [];
				if (Array.isArray(path)) {
					newPath = path;
				} else {
					newPath = path.replace(/\[(\d+)\]/g, ".$1").split(".");
				}
				return (
					newPath.reduce((obj, key) => {
						console.log(obj, key);
						return (obj || {})[key];
					}, obj) || defaultVal
				);
			}
			var object = { a: [{ b: { c: 3 } }] };
			console.log(get(object, ["a", 0, "b"]));
			console.log(get(object, "a[0].b.c"));
			console.log(get(object, "a[0].b.c.d"));
		</script>
	</body>
</html>
